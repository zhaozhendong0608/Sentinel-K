# 前端开发规约 (Frontend Coding Standards)

> **用途**: AI 编码时的核心约束清单。人类开发者的快速参考手册。

---

## 核心红线 (必须遵守)

### 1. 组件规范
- ✅ 必须使用 `<script setup>` 语法
- ✅ 单文件组件不超过 300 行 (超过则拆分)

### 2. 统一弹窗
- ✅ 所有提示使用 `ElMessage.success/error/warning`
- ✅ 危险操作 (删除/清空) 必须使用 `ElMessageBox.confirm` 二次确认
- ❌ 禁止使用原生 `alert()` 或 `confirm()`

### 3. 模板规范
- ❌ 禁止在 `class` 中写超长样式字符串 (超过 5 个类名应拆分到 CSS)
- ❌ 禁止使用内联样式 `:style` (特殊动态样式除外)
- ✅ 使用语义化的 CSS 类名

### 4. 异常处理
- ✅ 所有异步操作必须 try-catch 并给出用户友好提示
- ✅ 错误提示必须使用中文

### 5. CSS 规范
- ✅ 必须使用 `scoped` 避免样式污染
- ✅ 使用 SCSS 嵌套语法
- ✅ **证据闭环**: 所有交付必须附带标准 `Evidence Block` (`Diff_Summary`, `Test_Run`, `Scan_Result`)。

---

## 项目结构

```
src/
├── views/          # 页面组件
├── components/     # 通用组件
│   ├── common/     # 基础组件
│   └── business/   # 业务组件
├── api/            # API 接口定义
├── store/          # Pinia 状态管理
├── router/         # 路由配置
├── utils/          # 工具函数
└── types/          # TypeScript 类型定义
```

---

## 命名规范

- 页面组件: 大驼峰 + 语义化 `AlgorithmEditor.vue`
- 通用组件: 大驼峰 + 前缀 `BaseButton.vue`
- API 文件: 小写 + 下划线 `product.ts`

---

## API 调用规范

- ✅ API 方法必须添加注释说明
- ✅ 统一使用 `request` 工具类封装 axios

---

## 状态管理

- ✅ 使用 Pinia 进行状态管理
- ✅ Store 按模块划分 (user, algorithm, datasource)
- ✅ 异步操作统一放在 `actions` 中

---

## Git 提交规范

格式: `<type>(<scope>): <subject>`

Type 类型:
- `feat`: 新功能
- `fix`: Bug 修复
- `refactor`: 重构
- `docs`: 文档更新
- `style`: 代码格式调整
